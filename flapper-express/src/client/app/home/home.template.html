<div class="page-header">
  <h1>FlapperNews</h1>
</div>
<div ng-repeat="post in posts | orderBy: '-upvotes'">
  <p>
    {{$index+1}}.
    <span class="glyphicon glyphicon-thumbs-up" ng-click="incrementUpvotes(post)"></span>
    <span class="glyphicon glyphicon-thumbs-down" ng-click="decrementUpvotes(post)"></span>
    <a href={{post.link}} ng-show='post.link'>{{post.title}}</a>
    <span ng-hide='post.link'>{{post.title}}</span>
    <span ng-show="post.author">
      posted by <a>{{post.author}}</a>
    </span>
    | votes: {{post.upvotes}}
    <span> <a href="#/posts/{{post._id}}">Comments</a></span>
  </p>
</div>
<form ng-submit="addPost()" ng-show="isLoggedIn()">
  <div class="form-group">
    <input class="form-control" placeholder="Title" type="text" ng-model="title" />
  </div>
  <div class="form-group">
    <input class="form-control" placeholder="Link" type="text" ng-model="link" />
  </div>
  <button type="submit">Post</button>
</form>
<div ng-hide="isLoggedIn()">
  <h3>You need to <a href="/#/login">Log In</a> or <a href="/#/register">Register</a> before you can add a post.</h3>
</div>
