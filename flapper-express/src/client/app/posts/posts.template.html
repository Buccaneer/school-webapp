<div class="page-header">
  <h3>
    <a href={{post.link}} ng-show='post.link'>{{post.title}}</a>
    <span ng-hide='post.link'>{{post.title}}</span>
  </h3>
</div>
<div ng-repeat="comment in post.comments | orderBy:'-upvotes'">
  <span class="glyphicon glyphicon-thumbs-up" ng-click="incrementCommentUpvotes(comment)"></span>
  <span class="glyphicon glyphicon-thumbs-down" ng-click="decrementCommentUpvotes(comment)"></span>
  {{comment.body}} - by {{comment.author}} | votes: {{comment.upvotes}}
</div>

<form ng-submit="addComment()" ng-show="isLoggedIn()" style="margin-top:30px">
  <h3>Add a new comment</h3>
  <div class="form-group">
    <input type="text" class="form-control" ng-model="body" placeholder="Comment" </div>
    <br/>
    <button class="btn btn-primary" type="submit">Add</button>
</form>
<div ng-hide="isLoggedIn()">
  <h3>You need to <a href="/#/login">Log In</a> or <a href="/#/register">Register</a> before you can comment.</h3>
</div>
